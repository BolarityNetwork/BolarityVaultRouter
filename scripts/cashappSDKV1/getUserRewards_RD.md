

---
ğŸ§¾ CashApp æ¯æ—¥æ”¶ç›Šè®¡ç®—é€»è¾‘ï¼ˆMVP ç‰ˆæœ¬ Â· å«å†…éƒ¨ç§»åŠ¨æ’é™¤ï¼‰
1. èƒŒæ™¯ä¸ç›®æ ‡
CashApp ä»¥ç¨³å®šå¸ï¼ˆUSDC/USDT/DAI ç­‰ï¼‰ä¸ºç»“ç®—å•ä½ï¼Œç”¨æˆ·èµ„é‡‘åˆ†å¸ƒäºï¼š
- é’±åŒ…å¯ç”¨ä½™é¢
- Aave åè®®
- Compound åè®®
- Pendle åè®®
ç›®æ ‡ï¼š
 å¿«é€Ÿå®ç°ã€Œæ¯æ—¥æ”¶ç›Šè®¡ç®—ã€é€»è¾‘ï¼Œä»¥å±•ç¤ºç”¨æˆ·åœ¨ä¸€å®šæ—¶é—´æ®µå†…çš„æ”¶ç›Šå˜åŒ–ã€‚

---
2. åŸºæœ¬åŸåˆ™
3. æ”¶ç›Šå£å¾„ï¼š
 [
 \text{DailyYield} = (\text{æ€»ä½™é¢å˜åŒ–}) - (\text{å½“æ—¥å‡€è½¬å…¥})
 ]
4. ç»Ÿä¸€è®¡ä»·å•ä½ï¼šç¨³å®šå¸ï¼ˆUSDC/USDT/DAIï¼‰
5. æ¯æ—¥åˆ‡ç‚¹ï¼šUTC 00:00
6. å†…éƒ¨æ¬ç –äº¤æ˜“æ’é™¤ï¼šæ’é™¤é’±åŒ…ä¸åè®®å†…éƒ¨äº¤äº’ï¼ˆå¦‚ä¾›åº”/èµå›ã€swapã€router äº¤äº’ï¼‰å¸¦æ¥çš„ä¼ªæµå…¥æµå‡ºã€‚
7. ç»“æœå¯å¤ç®—ï¼šåŒæ ·è¾“å…¥æ¡ä»¶åº”ç”Ÿæˆç›¸åŒç»“æœã€‚

---
8. æ•°æ®å®šä¹‰
This content is only supported in a Lark Docs

---
9. è®¡ç®—å…¬å¼
[
 \text{DailyYield}{n} = (B{n} - B_{n-1}) - \text{NetTransfer}_{n}
 ]
- ( B_n )ï¼šn æ—¥ 00:00 æ€»ä½™é¢
- ( \text{NetTransfer}_n )ï¼š(nâˆ’1 æ—¥ 00:00, n æ—¥ 00:00] åŒºé—´å†…çš„ç¨³å®šå¸å‡€è½¬å…¥é‡‘é¢

---
10. å†…éƒ¨ç§»åŠ¨æ’é™¤é€»è¾‘ï¼ˆInternal Exclusionï¼‰
ä¸ºé¿å…å†…éƒ¨èµ„é‡‘ç§»åŠ¨è¢«è¯¯è®¡ä¸ºæµå…¥æµå‡ºï¼Œéœ€åœ¨å‡€è½¬å…¥è®¡ç®—ä¸­æ’é™¤ä»¥ä¸‹äº¤äº’ï¼š
This content is only supported in a Lark Docs
âœ… é€»è¾‘è¯´æ˜
- å½“æ£€æµ‹åˆ°äº¤æ˜“ from æˆ– to åœ°å€åœ¨æ’é™¤åˆ—è¡¨ä¸­ â†’ å¿½ç•¥è¯¥ç¬”æµå…¥/æµå‡ºï¼›
- è‹¥ç”¨æˆ·ä¸è¿™äº›åœ°å€äº¤äº’ï¼Œè§†ä¸ºå†…éƒ¨èµ„é‡‘ç§»åŠ¨ï¼Œä¸è®¡å…¥å‡€æµï¼›
- è¯¥åˆ—è¡¨åº”æ”¯æŒ config æ–‡ä»¶é…ç½®ä¸åŠ¨æ€æ›´æ–°ã€‚

---
11. å¯é…ç½®æ’é™¤åˆ—è¡¨ï¼ˆConfigï¼‰
{
  "exclude_addresses": {
    "compound": ["<all comet addresses>"],
    "pendle": [
      "0xd4F480965D2347d421F1bEC7F545682E5Ec2151D",
      "0x888888888889758F76e7103c6CbF23ABbF58F946"
    ],
    "aave": [
      "0xA238Dd80C259a72e81d7e4664a9801593F98d1c5"
    ]
  }
}
å¼€å‘æ—¶å¯é€šè¿‡ç¯å¢ƒå˜é‡æˆ– JSON æ–‡ä»¶åŠ¨æ€åŠ è½½ï¼Œä¾¿äºçƒ­æ›´æ–°ã€‚

---
12. å¼€å‘ä»»åŠ¡ï¼šè®¡ç®—å‡€æµå…¥å‡½æ•°
å‡½æ•°å®šä¹‰
async function getNetTransfer(
  chainId: number,
  userAddress: string,
  startTime: number,  // timestamp
  endTime: number     // timestamp
): Promise<number>
åŠŸèƒ½è¯´æ˜
- ç»Ÿè®¡æŒ‡å®šæ—¶é—´çª—å£å†…ï¼ˆstartTime â†’ endTimeï¼‰çš„ç¨³å®šå¸å‡€è½¬å…¥é‡ï¼›
- è‡ªåŠ¨æ’é™¤å†…éƒ¨äº¤äº’ï¼ˆæ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„åœ°å€åˆ—è¡¨ï¼‰ï¼›
- è¿”å›ä»¥ USD è®¡ä»·çš„å‡€æµå…¥é‡‘é¢ã€‚
é€»è¾‘æ­¥éª¤
1. æŸ¥è¯¢ userAddress çš„æ‰€æœ‰ç¨³å®šå¸è½¬è´¦è®°å½•ï¼›
2. è¿‡æ»¤å‡ºï¼š
  - asset âˆˆ {USDC, USDT, DAI}ï¼›
  - timestamp âˆˆ [startTime, endTime)ï¼›
3. è¿‡æ»¤æ’é™¤é¡¹ï¼š
  - è‹¥äº¤æ˜“ from æˆ– to åœ¨æ’é™¤åˆ—è¡¨ä¸­ â†’ å¿½ç•¥ï¼›
4. æ±‡æ€»å‡€æµå…¥ï¼š
net_in = Î£(amount where to=user)
net_out = Î£(amount where from=user)
net_transfer = net_in - net_out
1. è¿”å›ç»“æœï¼ˆdecimalï¼Œ6ä½ç²¾åº¦ï¼‰ã€‚

---
2. æ•°æ®ç»“æ„å‚è€ƒ
transfers
This content is only supported in a Lark Docs

---
3. ç¤ºä¾‹è¿”å›
{
  "chainId": 1,
  "user": "0x1234...",
  "startTime": 1730000000,
  "endTime": 1730086400,
  "netTransfer": 150.25
}

---

